{"ast":null,"code":"import React from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{QueryClient,QueryClientProvider}from'react-query';import{Toaster}from'react-hot-toast';// Context Providers\nimport{AuthProvider}from'./contexts/AuthContext';import{useAuth}from'./contexts/AuthContext';// Components\nimport LoadingSpinner from'./components/common/LoadingSpinner';import Layout from'./components/layout/Layout';// Pages\nimport LoginPage from'./pages/auth/LoginPage';import RegisterPage from'./pages/auth/RegisterPage';import DashboardPage from'./pages/dashboard/DashboardPage';import DocumentsPage from'./pages/documents/DocumentsPage';import TransactionsPage from'./pages/transactions/TransactionsPage';import AccountsPage from'./pages/accounts/AccountsPage';import ReportsPage from'./pages/reports/ReportsPage';import SettingsPage from'./pages/settings/SettingsPage';import AdminPage from'./pages/admin/AdminPage';// Create a client\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const queryClient=new QueryClient({defaultOptions:{queries:{retry:1,staleTime:5*60*1000,// 5 minutes\ncacheTime:10*60*1000// 10 minutes\n}}});// Protected Route Component\nconst ProtectedRoute=_ref=>{let{children,requiredRoles=[]}=_ref;const{user,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"large\"})});}if(!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}if(requiredRoles.length>0&&!requiredRoles.includes(user.role)){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"Access Denied\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"You don't have permission to access this page.\"})]})});}return/*#__PURE__*/_jsx(Layout,{children:children});};// Public Route Component (redirects to dashboard if already logged in)\nconst PublicRoute=_ref2=>{let{children}=_ref2;const{user,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"large\"})});}if(user){return/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true});}return children;};function AppRoutes(){return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(PublicRoute,{children:/*#__PURE__*/_jsx(LoginPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(PublicRoute,{children:/*#__PURE__*/_jsx(RegisterPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(DashboardPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/documents\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(DocumentsPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/transactions\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(TransactionsPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/accounts\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(AccountsPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/reports\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ReportsPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/settings\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(SettingsPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requiredRoles:['admin','corporate'],children:/*#__PURE__*/_jsx(AdminPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-gray-900 mb-2\",children:\"404\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"Page not found\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/dashboard\",className:\"btn-primary\",children:\"Go to Dashboard\"})]})})})]});}function App(){return/*#__PURE__*/_jsx(QueryClientProvider,{client:queryClient,children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(AppRoutes,{}),/*#__PURE__*/_jsx(Toaster,{position:\"top-right\",toastOptions:{duration:4000,style:{background:'#363636',color:'#fff'},success:{duration:3000,style:{background:'#10b981'}},error:{duration:5000,style:{background:'#ef4444'}}}})]})})})});}export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","QueryClient","QueryClientProvider","Toaster","AuthProvider","useAuth","LoadingSpinner","Layout","LoginPage","RegisterPage","DashboardPage","DocumentsPage","TransactionsPage","AccountsPage","ReportsPage","SettingsPage","AdminPage","jsx","_jsx","jsxs","_jsxs","queryClient","defaultOptions","queries","retry","staleTime","cacheTime","ProtectedRoute","_ref","children","requiredRoles","user","loading","className","size","to","replace","length","includes","role","PublicRoute","_ref2","AppRoutes","path","element","href","App","client","position","toastOptions","duration","style","background","color","success","error"],"sources":["/app/frontend/src/App.js"],"sourcesContent":["import React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { Toaster } from 'react-hot-toast';\n\n// Context Providers\nimport { AuthProvider } from './contexts/AuthContext';\nimport { useAuth } from './contexts/AuthContext';\n\n// Components\nimport LoadingSpinner from './components/common/LoadingSpinner';\nimport Layout from './components/layout/Layout';\n\n// Pages\nimport LoginPage from './pages/auth/LoginPage';\nimport RegisterPage from './pages/auth/RegisterPage';\nimport DashboardPage from './pages/dashboard/DashboardPage';\nimport DocumentsPage from './pages/documents/DocumentsPage';\nimport TransactionsPage from './pages/transactions/TransactionsPage';\nimport AccountsPage from './pages/accounts/AccountsPage';\nimport ReportsPage from './pages/reports/ReportsPage';\nimport SettingsPage from './pages/settings/SettingsPage';\nimport AdminPage from './pages/admin/AdminPage';\n\n// Create a client\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      retry: 1,\n      staleTime: 5 * 60 * 1000, // 5 minutes\n      cacheTime: 10 * 60 * 1000, // 10 minutes\n    },\n  },\n});\n\n// Protected Route Component\nconst ProtectedRoute = ({ children, requiredRoles = [] }) => {\n  const { user, loading } = useAuth();\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <LoadingSpinner size=\"large\" />\n      </div>\n    );\n  }\n\n  if (!user) {\n    return <Navigate to=\"/login\" replace />;\n  }\n\n  if (requiredRoles.length > 0 && !requiredRoles.includes(user.role)) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">Access Denied</h1>\n          <p className=\"text-gray-600\">You don't have permission to access this page.</p>\n        </div>\n      </div>\n    );\n  }\n\n  return <Layout>{children}</Layout>;\n};\n\n// Public Route Component (redirects to dashboard if already logged in)\nconst PublicRoute = ({ children }) => {\n  const { user, loading } = useAuth();\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <LoadingSpinner size=\"large\" />\n      </div>\n    );\n  }\n\n  if (user) {\n    return <Navigate to=\"/dashboard\" replace />;\n  }\n\n  return children;\n};\n\nfunction AppRoutes() {\n  return (\n    <Routes>\n      {/* Public Routes */}\n      <Route\n        path=\"/login\"\n        element={\n          <PublicRoute>\n            <LoginPage />\n          </PublicRoute>\n        }\n      />\n      <Route\n        path=\"/register\"\n        element={\n          <PublicRoute>\n            <RegisterPage />\n          </PublicRoute>\n        }\n      />\n\n      {/* Protected Routes */}\n      <Route\n        path=\"/dashboard\"\n        element={\n          <ProtectedRoute>\n            <DashboardPage />\n          </ProtectedRoute>\n        }\n      />\n      <Route\n        path=\"/documents\"\n        element={\n          <ProtectedRoute>\n            <DocumentsPage />\n          </ProtectedRoute>\n        }\n      />\n      <Route\n        path=\"/transactions\"\n        element={\n          <ProtectedRoute>\n            <TransactionsPage />\n          </ProtectedRoute>\n        }\n      />\n      <Route\n        path=\"/accounts\"\n        element={\n          <ProtectedRoute>\n            <AccountsPage />\n          </ProtectedRoute>\n        }\n      />\n      <Route\n        path=\"/reports\"\n        element={\n          <ProtectedRoute>\n            <ReportsPage />\n          </ProtectedRoute>\n        }\n      />\n      <Route\n        path=\"/settings\"\n        element={\n          <ProtectedRoute>\n            <SettingsPage />\n          </ProtectedRoute>\n        }\n      />\n      <Route\n        path=\"/admin\"\n        element={\n          <ProtectedRoute requiredRoles={['admin', 'corporate']}>\n            <AdminPage />\n          </ProtectedRoute>\n        }\n      />\n\n      {/* Default redirect */}\n      <Route path=\"/\" element={<Navigate to=\"/dashboard\" replace />} />\n      \n      {/* Catch all route */}\n      <Route\n        path=\"*\"\n        element={\n          <div className=\"min-h-screen flex items-center justify-center\">\n            <div className=\"text-center\">\n              <h1 className=\"text-4xl font-bold text-gray-900 mb-2\">404</h1>\n              <p className=\"text-gray-600 mb-4\">Page not found</p>\n              <a href=\"/dashboard\" className=\"btn-primary\">\n                Go to Dashboard\n              </a>\n            </div>\n          </div>\n        }\n      />\n    </Routes>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <Router>\n        <AuthProvider>\n          <div className=\"App\">\n            <AppRoutes />\n            <Toaster\n              position=\"top-right\"\n              toastOptions={{\n                duration: 4000,\n                style: {\n                  background: '#363636',\n                  color: '#fff',\n                },\n                success: {\n                  duration: 3000,\n                  style: {\n                    background: '#10b981',\n                  },\n                },\n                error: {\n                  duration: 5000,\n                  style: {\n                    background: '#ef4444',\n                  },\n                },\n              }}\n            />\n          </div>\n        </AuthProvider>\n      </Router>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CACnF,OAASC,WAAW,CAAEC,mBAAmB,KAAQ,aAAa,CAC9D,OAASC,OAAO,KAAQ,iBAAiB,CAEzC;AACA,OAASC,YAAY,KAAQ,wBAAwB,CACrD,OAASC,OAAO,KAAQ,wBAAwB,CAEhD;AACA,MAAO,CAAAC,cAAc,KAAM,oCAAoC,CAC/D,MAAO,CAAAC,MAAM,KAAM,4BAA4B,CAE/C;AACA,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,MAAO,CAAAC,YAAY,KAAM,2BAA2B,CACpD,MAAO,CAAAC,aAAa,KAAM,iCAAiC,CAC3D,MAAO,CAAAC,aAAa,KAAM,iCAAiC,CAC3D,MAAO,CAAAC,gBAAgB,KAAM,uCAAuC,CACpE,MAAO,CAAAC,YAAY,KAAM,+BAA+B,CACxD,MAAO,CAAAC,WAAW,KAAM,6BAA6B,CACrD,MAAO,CAAAC,YAAY,KAAM,+BAA+B,CACxD,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAE/C;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,WAAW,CAAG,GAAI,CAAApB,WAAW,CAAC,CAClCqB,cAAc,CAAE,CACdC,OAAO,CAAE,CACPC,KAAK,CAAE,CAAC,CACRC,SAAS,CAAE,CAAC,CAAG,EAAE,CAAG,IAAI,CAAE;AAC1BC,SAAS,CAAE,EAAE,CAAG,EAAE,CAAG,IAAM;AAC7B,CACF,CACF,CAAC,CAAC,CAEF;AACA,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAsC,IAArC,CAAEC,QAAQ,CAAEC,aAAa,CAAG,EAAG,CAAC,CAAAF,IAAA,CACtD,KAAM,CAAEG,IAAI,CAAEC,OAAQ,CAAC,CAAG3B,OAAO,CAAC,CAAC,CAEnC,GAAI2B,OAAO,CAAE,CACX,mBACEd,IAAA,QAAKe,SAAS,CAAC,+CAA+C,CAAAJ,QAAA,cAC5DX,IAAA,CAACZ,cAAc,EAAC4B,IAAI,CAAC,OAAO,CAAE,CAAC,CAC5B,CAAC,CAEV,CAEA,GAAI,CAACH,IAAI,CAAE,CACT,mBAAOb,IAAA,CAAClB,QAAQ,EAACmC,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAAC,CACzC,CAEA,GAAIN,aAAa,CAACO,MAAM,CAAG,CAAC,EAAI,CAACP,aAAa,CAACQ,QAAQ,CAACP,IAAI,CAACQ,IAAI,CAAC,CAAE,CAClE,mBACErB,IAAA,QAAKe,SAAS,CAAC,+CAA+C,CAAAJ,QAAA,cAC5DT,KAAA,QAAKa,SAAS,CAAC,aAAa,CAAAJ,QAAA,eAC1BX,IAAA,OAAIe,SAAS,CAAC,uCAAuC,CAAAJ,QAAA,CAAC,eAAa,CAAI,CAAC,cACxEX,IAAA,MAAGe,SAAS,CAAC,eAAe,CAAAJ,QAAA,CAAC,gDAA8C,CAAG,CAAC,EAC5E,CAAC,CACH,CAAC,CAEV,CAEA,mBAAOX,IAAA,CAACX,MAAM,EAAAsB,QAAA,CAAEA,QAAQ,CAAS,CAAC,CACpC,CAAC,CAED;AACA,KAAM,CAAAW,WAAW,CAAGC,KAAA,EAAkB,IAAjB,CAAEZ,QAAS,CAAC,CAAAY,KAAA,CAC/B,KAAM,CAAEV,IAAI,CAAEC,OAAQ,CAAC,CAAG3B,OAAO,CAAC,CAAC,CAEnC,GAAI2B,OAAO,CAAE,CACX,mBACEd,IAAA,QAAKe,SAAS,CAAC,+CAA+C,CAAAJ,QAAA,cAC5DX,IAAA,CAACZ,cAAc,EAAC4B,IAAI,CAAC,OAAO,CAAE,CAAC,CAC5B,CAAC,CAEV,CAEA,GAAIH,IAAI,CAAE,CACR,mBAAOb,IAAA,CAAClB,QAAQ,EAACmC,EAAE,CAAC,YAAY,CAACC,OAAO,MAAE,CAAC,CAC7C,CAEA,MAAO,CAAAP,QAAQ,CACjB,CAAC,CAED,QAAS,CAAAa,SAASA,CAAA,CAAG,CACnB,mBACEtB,KAAA,CAACtB,MAAM,EAAA+B,QAAA,eAELX,IAAA,CAACnB,KAAK,EACJ4C,IAAI,CAAC,QAAQ,CACbC,OAAO,cACL1B,IAAA,CAACsB,WAAW,EAAAX,QAAA,cACVX,IAAA,CAACV,SAAS,GAAE,CAAC,CACF,CACd,CACF,CAAC,cACFU,IAAA,CAACnB,KAAK,EACJ4C,IAAI,CAAC,WAAW,CAChBC,OAAO,cACL1B,IAAA,CAACsB,WAAW,EAAAX,QAAA,cACVX,IAAA,CAACT,YAAY,GAAE,CAAC,CACL,CACd,CACF,CAAC,cAGFS,IAAA,CAACnB,KAAK,EACJ4C,IAAI,CAAC,YAAY,CACjBC,OAAO,cACL1B,IAAA,CAACS,cAAc,EAAAE,QAAA,cACbX,IAAA,CAACR,aAAa,GAAE,CAAC,CACH,CACjB,CACF,CAAC,cACFQ,IAAA,CAACnB,KAAK,EACJ4C,IAAI,CAAC,YAAY,CACjBC,OAAO,cACL1B,IAAA,CAACS,cAAc,EAAAE,QAAA,cACbX,IAAA,CAACP,aAAa,GAAE,CAAC,CACH,CACjB,CACF,CAAC,cACFO,IAAA,CAACnB,KAAK,EACJ4C,IAAI,CAAC,eAAe,CACpBC,OAAO,cACL1B,IAAA,CAACS,cAAc,EAAAE,QAAA,cACbX,IAAA,CAACN,gBAAgB,GAAE,CAAC,CACN,CACjB,CACF,CAAC,cACFM,IAAA,CAACnB,KAAK,EACJ4C,IAAI,CAAC,WAAW,CAChBC,OAAO,cACL1B,IAAA,CAACS,cAAc,EAAAE,QAAA,cACbX,IAAA,CAACL,YAAY,GAAE,CAAC,CACF,CACjB,CACF,CAAC,cACFK,IAAA,CAACnB,KAAK,EACJ4C,IAAI,CAAC,UAAU,CACfC,OAAO,cACL1B,IAAA,CAACS,cAAc,EAAAE,QAAA,cACbX,IAAA,CAACJ,WAAW,GAAE,CAAC,CACD,CACjB,CACF,CAAC,cACFI,IAAA,CAACnB,KAAK,EACJ4C,IAAI,CAAC,WAAW,CAChBC,OAAO,cACL1B,IAAA,CAACS,cAAc,EAAAE,QAAA,cACbX,IAAA,CAACH,YAAY,GAAE,CAAC,CACF,CACjB,CACF,CAAC,cACFG,IAAA,CAACnB,KAAK,EACJ4C,IAAI,CAAC,QAAQ,CACbC,OAAO,cACL1B,IAAA,CAACS,cAAc,EAACG,aAAa,CAAE,CAAC,OAAO,CAAE,WAAW,CAAE,CAAAD,QAAA,cACpDX,IAAA,CAACF,SAAS,GAAE,CAAC,CACC,CACjB,CACF,CAAC,cAGFE,IAAA,CAACnB,KAAK,EAAC4C,IAAI,CAAC,GAAG,CAACC,OAAO,cAAE1B,IAAA,CAAClB,QAAQ,EAACmC,EAAE,CAAC,YAAY,CAACC,OAAO,MAAE,CAAE,CAAE,CAAC,cAGjElB,IAAA,CAACnB,KAAK,EACJ4C,IAAI,CAAC,GAAG,CACRC,OAAO,cACL1B,IAAA,QAAKe,SAAS,CAAC,+CAA+C,CAAAJ,QAAA,cAC5DT,KAAA,QAAKa,SAAS,CAAC,aAAa,CAAAJ,QAAA,eAC1BX,IAAA,OAAIe,SAAS,CAAC,uCAAuC,CAAAJ,QAAA,CAAC,KAAG,CAAI,CAAC,cAC9DX,IAAA,MAAGe,SAAS,CAAC,oBAAoB,CAAAJ,QAAA,CAAC,gBAAc,CAAG,CAAC,cACpDX,IAAA,MAAG2B,IAAI,CAAC,YAAY,CAACZ,SAAS,CAAC,aAAa,CAAAJ,QAAA,CAAC,iBAE7C,CAAG,CAAC,EACD,CAAC,CACH,CACN,CACF,CAAC,EACI,CAAC,CAEb,CAEA,QAAS,CAAAiB,GAAGA,CAAA,CAAG,CACb,mBACE5B,IAAA,CAAChB,mBAAmB,EAAC6C,MAAM,CAAE1B,WAAY,CAAAQ,QAAA,cACvCX,IAAA,CAACrB,MAAM,EAAAgC,QAAA,cACLX,IAAA,CAACd,YAAY,EAAAyB,QAAA,cACXT,KAAA,QAAKa,SAAS,CAAC,KAAK,CAAAJ,QAAA,eAClBX,IAAA,CAACwB,SAAS,GAAE,CAAC,cACbxB,IAAA,CAACf,OAAO,EACN6C,QAAQ,CAAC,WAAW,CACpBC,YAAY,CAAE,CACZC,QAAQ,CAAE,IAAI,CACdC,KAAK,CAAE,CACLC,UAAU,CAAE,SAAS,CACrBC,KAAK,CAAE,MACT,CAAC,CACDC,OAAO,CAAE,CACPJ,QAAQ,CAAE,IAAI,CACdC,KAAK,CAAE,CACLC,UAAU,CAAE,SACd,CACF,CAAC,CACDG,KAAK,CAAE,CACLL,QAAQ,CAAE,IAAI,CACdC,KAAK,CAAE,CACLC,UAAU,CAAE,SACd,CACF,CACF,CAAE,CACH,CAAC,EACC,CAAC,CACM,CAAC,CACT,CAAC,CACU,CAAC,CAE1B,CAEA,cAAe,CAAAN,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}