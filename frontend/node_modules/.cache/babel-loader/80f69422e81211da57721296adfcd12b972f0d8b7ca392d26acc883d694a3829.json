{"ast":null,"code":"import { disposables as m } from '../../utils/disposables.js';\nimport { isIOS as u } from '../../utils/platform.js';\nfunction d() {\n  return u() ? {\n    before({\n      doc: r,\n      d: l,\n      meta: c\n    }) {\n      function o(a) {\n        return c.containers.flatMap(n => n()).some(n => n.contains(a));\n      }\n      l.microTask(() => {\n        var s;\n        if (window.getComputedStyle(r.documentElement).scrollBehavior !== \"auto\") {\n          let t = m();\n          t.style(r.documentElement, \"scrollBehavior\", \"auto\"), l.add(() => l.microTask(() => t.dispose()));\n        }\n        let a = (s = window.scrollY) != null ? s : window.pageYOffset,\n          n = null;\n        l.addEventListener(r, \"click\", t => {\n          if (t.target instanceof HTMLElement) try {\n            let e = t.target.closest(\"a\");\n            if (!e) return;\n            let {\n                hash: f\n              } = new URL(e.href),\n              i = r.querySelector(f);\n            i && !o(i) && (n = i);\n          } catch {}\n        }, !0), l.addEventListener(r, \"touchstart\", t => {\n          if (t.target instanceof HTMLElement) if (o(t.target)) {\n            let e = t.target;\n            for (; e.parentElement && o(e.parentElement);) e = e.parentElement;\n            l.style(e, \"overscrollBehavior\", \"contain\");\n          } else l.style(t.target, \"touchAction\", \"none\");\n        }), l.addEventListener(r, \"touchmove\", t => {\n          if (t.target instanceof HTMLElement) if (o(t.target)) {\n            let e = t.target;\n            for (; e.parentElement && e.dataset.headlessuiPortal !== \"\" && !(e.scrollHeight > e.clientHeight || e.scrollWidth > e.clientWidth);) e = e.parentElement;\n            e.dataset.headlessuiPortal === \"\" && t.preventDefault();\n          } else t.preventDefault();\n        }, {\n          passive: !1\n        }), l.add(() => {\n          var e;\n          let t = (e = window.scrollY) != null ? e : window.pageYOffset;\n          a !== t && window.scrollTo(0, a), n && n.isConnected && (n.scrollIntoView({\n            block: \"nearest\"\n          }), n = null);\n        });\n      });\n    }\n  } : {};\n}\nexport { d as handleIOSLocking };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}